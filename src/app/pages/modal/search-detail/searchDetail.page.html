<ion-content>
  <ng-container *ngIf="foodDetail$ | async as foodDetail">
    <app-back-button-bar class="border-b">{{foodDetail.food_name}}</app-back-button-bar>
    <div class="flex flex-col items-center w-full bg-[#f9f9f9] overflow-scroll h-full">
      <p class="font-[600] text-sm text-gray-400 pt-4">{{foodDetail.brend}}</p>
      <p class="font-[800] text-xl">{{foodDetail.food_name}}</p>
      <div class="relative pr-8 m-5 w-28">
        <div class="flex items-center justify-center overflow-hidden border rounded-full w-28 h-28">
          <img [src]="formGroup.value.photo  ?? '/assets/img/emo7.png'" class="border h-[118px]" />
        </div>
        <div (click)=" this.presentActionSheet()" class=" absolute w-8 h-8 z-10 top-20 left-[85px] border rounded-full overflow-hidden items-center flex
          justify-center bg-white">
          <img src="assets/icon/plus.svg" class="w-5" />
        </div>

      </div>
      <div class="w-full px-10 ">
        <div class="bg-white border rounded-lg">
          <div class="flex justify-around w-full px-2 py-4 text-xs">
            <div class="text-center">
              <p class="text-[10px]">탄수화물</p>
              <p class="font-[700]">{{foodDetail.carbohydrate*formGroup.value.servings}}g</p>
            </div>
            <div class="text-center">
              <p class="text-[10px]">단백질</p>
              <p class="font-[700]">{{foodDetail.protein*formGroup.value.servings}}g</p>
            </div>
            <div class="text-center">
              <p class="text-[10px]">지방</p>
              <p class="font-[700]">{{foodDetail.province*formGroup.value.servings}}g</p>
            </div>
          </div>
          <div class="flex justify-end w-full px-6 py-3 bg-white border-t">
            <p class="font-[700]">{{foodDetail.kcal*formGroup.value.servings}} kcal</p>
          </div>
        </div>
      </div>
      <div class="w-full px-10 flex space-x-2 pt-2 text-sm font-[500] text-[#646464]">
        <select class="w-1/2 py-2 text-center bg-white border rounded-md focus:outline-none">
          <option>
            <p>인분 ({{foodDetail.size}} {{foodDetail.sizeUnit}})</p>
          </option>
          <option>
            <p>g</p>
          </option>
        </select>
        <div class="w-1/2 py-2 text-center bg-white border rounded-md">
          <div class="flex justify-between w-full px-2 outline-white">
            <img src="assets/icon/minus.svg" (click)="minusServings()" />
            <p>{{formGroup.value.servings}}</p>
            <img src="assets/icon/plus.svg" (click)="addServings()" />
          </div>
        </div>
      </div>
      <div class="w-full px-8 pt-8 space-y-3">
        <div class="flex justify-between">
          <p class="font-[700]">식사시간</p>
        </div>
        <div class="flex justify-between text-xs">
          <div class="w-[19vw]" *ngFor="let item of mealTimeItem; let i = index">
            <div (click)="mealTimeToogle(i)"
              class="bg-white border rounded-md w-full text-center px-4 py-2 font-[600] {{ mealTime[i] ? 'text-[#540BB0] border-[#540BB0]' : 'text-[#D9D9D9] border-[#D9D9D9]' }}">
              {{item}}</div>
          </div>
        </div>
      </div>
      <div class="w-full px-8 pt-4 space-y-3">
        <div class="flex">
          <p class="font-[700]">식단평가</p>
        </div>
        <div class="flex flex-wrap justify-between text-xs">
          <div class="w-[19vw]" *ngFor="let item of mealEveItem; let i = index">
            <div (click)="mealEvToogle(i)"
              class="bg-white mb-2 border rounded-md w-full text-center py-2 font-[600] {{ mealEv[i] ? 'text-[#540BB0] border-[#540BB0]' : 'text-[#D9D9D9] border-[#D9D9D9]' }}">
              {{item}}</div>
          </div>
        </div>
      </div>
    </div>
  </ng-container>

</ion-content>
<ion-footer>
  <div class="w-full px-6 py-4 bg-white">
    <div (click)="store()" class=" w-full h-10 bg-gradient-to-r from-[#1F164B] via-[#35248F] to-[#540BB0] flex items-center justify-center
      rounded-[5px]">
      <p class="text-[13px]  text-white">기록하기</p>
    </div>
  </div>
</ion-footer>